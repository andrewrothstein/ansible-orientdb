<?xml version="1.0" encoding="UTF-8"?>
<!-- ~ Copyright (c) 2008-2012, Hazel Bilisim Ltd. All Rights Reserved. ~ 
	~ Licensed under the Apache License, Version 2.0 (the "License"); ~ you may 
	not use this file except in compliance with the License. ~ You may obtain 
	a copy of the License at ~ ~ http://www.apache.org/licenses/LICENSE-2.0 ~ 
	~ Unless required by applicable law or agreed to in writing, software ~ distributed 
	under the License is distributed on an "AS IS" BASIS, ~ WITHOUT WARRANTIES 
	OR CONDITIONS OF ANY KIND, either express or implied. ~ See the License for 
	the specific language governing permissions and ~ limitations under the License. -->

<hazelcast
    xsi:schemaLocation="http://www.hazelcast.com/schema/config hazelcast-config-3.0.xsd"
    xmlns="http://www.hazelcast.com/schema/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <group>
    <name>{{orientdb.hazelcast.name}}</name>
    <password>{{orientdb.hazelcast.password}}</password>
  </group>
  <network>
    <port auto-increment="true">{{orientdb.hazelcast.port}}</port>
    <join>
{% if orientdb.hazelcast.multicast is defined and orientdb.hazelcast.multicast.enabled %}
      <multicast enabled="true">
	<multicast-group>{{orientdb.hazelcast.multicast.group}}</multicast-group>
	<multicast-port>{{orientdb.hazelcast.multicast.port}}</multicast-port>
      </multicast>
{% endif %}
{% if orientdb.hazelcast.tcp is defined and orientdb.hazelcast.tcp.enabled and orientdb in groups %}
      <tcp-ip enabled="{{orientdb.hazelcast.tcp.enabled | to_json}}">
{% for peer in groups['orientdb'] %}
	<member>{{hostvars[peer]['ansible_' + orientdb.tcp.network_interfact]['ipv4']['address']}}</member>
{% endfor %}	
{% endif %}
    </join>
  </network>
  <executor-service>
    <pool-size>{{orientdb.hazelcast.executor_service.pool_size}}</pool-size>
  </executor-service>
</hazelcast>
